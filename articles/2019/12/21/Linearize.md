[首页](https://wshwwl.github.io)  [关于](https://wshwwl.github.io/about.html) 

# 应力线性化

[toc]

## 1. 简介

* 应力线性化在压力容器分析设计中广泛使用；

* 基于ASME规范

  - 用线弹性计算结果评价容器强度；
  - 截面应力被线性化为薄膜应力+弯曲应力；
  - 薄膜应力为均布应力；
  - 弯曲应力为线性变化且反对称分布应力；
  - 线性化基于截面合力和力矩等效的原则。

  
## 2.线性化计算

### 2.1 示例结果

以下以任意一有限元计算结果示例，其应力强度云图如下：

![](.\map.JPG)

对其由内而外取一条路径（红线所示），红线上由内而外经过四个节点，各个节点应力状态为：

| 节点编号 | sx           | sy           | sz           | sxy          | syz  | sxz  |
| -------- | ------------ | ------------ | ------------ | ------------ | ---- | ---- |
| 1        | -0.25037E+08 | -0.32145E+08 | -0.79458E+07 | 0.28775E+08  | 0    | 0    |
| 2        | 0.96907E+08  | 0.12621E+09  | 0.80323E+08  | -0.12683E+09 | 0    | 0    |
| 3        | 0.11512E+08  | 0.18354E+08  | 0.19262E+08  | -0.12366E+08 | 0    | 0    |
| 4        | 0.51497E+08  | 0.70925E+08  | 0.48394E+08  | -0.62210E+08 | 0    | 0    |

四个节点的坐标依次为：

| 节点编号 | x                   | y             | z    |
| -------- | ------------------- | ------------- | ---- |
| 1        | 0.792667608977E-001 | 1.66897695709 | 0.00 |
| 2        | 0.774554851510E-001 | 1.66747760283 | 0.00 |
| 3        | 0.786600643580E-001 | 1.66847985656 | 0.00 |
| 4        | 0.780563057757E-001 | 1.66798007181 | 0.00 |

ANSYS下应力分量sx线性化结果如下图所示，横坐标为沿路径方向坐标。

![](.\linearized.PNG)

全部线性化结果为：
```ansys_log
             ** MEMBRANE **
      SX          SY          SZ         SXY         SYZ         SXZ
  0.3295E+08  0.4543E+08  0.3461E+08 -0.4118E+08   0.000       0.000    
      S1          S2          S3         SINT        SEQV
  0.8084E+08  0.3461E+08 -0.2456E+07  0.8329E+08  0.7228E+08

              ** BENDING **  I=INSIDE C=CENTER O=OUTSIDE
      SX          SY          SZ         SXY         SYZ         SXZ
 I  0.6070E+08  0.7910E+08  0.4402E+08 -0.7709E+08   0.000       0.000    
 C   0.000       0.000       0.000       0.000       0.000       0.000    
 O -0.6070E+08 -0.7910E+08 -0.4402E+08  0.7709E+08   0.000       0.000    
      S1          S2          S3         SINT        SEQV
 I  0.1475E+09  0.4402E+08 -0.7735E+07  0.1553E+09  0.1369E+09
 C   0.000       0.000       0.000       0.000       0.000    
 O  0.7735E+07 -0.4402E+08 -0.1475E+09  0.1553E+09  0.1369E+09
```

### 2.2 薄膜应力

薄膜应力沿壁厚或路径均匀分布，其大小为相应应力分量在截面上合力的平均值，表示为：
$$
\sigma_m=\frac{1}{t}\int_{-\frac{t}{2}}^{+\frac{t}{2}}\sigma dx
$$
其中$\sigma$为任意六个应力（`sx、sy、sz、sxy、syz、sxz`）分量之一。

### 2.3 弯曲应力

弯曲应力沿壁厚或路径线性分布，且沿壁厚或者路径终点反对称分布。该分布产生的弯矩和原始应力分布产生的弯曲大小一致，假设外侧节点的弯曲应力为$\sigma_b$，则有：
$$
\int_{-\frac{t}{2}}^{\frac{t}{2}}(\frac{\sigma_b}{t/2}*x*dx)*x=\sigma_b*\frac{t^2}{6}=\int_{-\frac{t}{2}}^{\frac{t}{2}}\sigma*x*dx
$$
其中$\sigma$为任意应力分量。因此外侧弯曲应力的大小为：
$$
\sigma_b=\frac{t^2}{6}\int_{-\frac{t}{2}}^{\frac{t}{2}}\sigma*x*dx
$$

### 2.4 主应力、应力强度、等效应力

线性化后，可以得到6个应力分量对应的薄膜应力（$S_{ij ,m}$）、弯曲应力($S_{ij,b}$)。则`S1,S2,S3,SINT,SEQV`的薄膜应力由6个薄膜应力分量（$S_{ij ,m}$）求出，弯曲应力由6个弯曲应力分量($S_{ij,b}$)求出。

### 2.5 峰值应力

线性化后，可以得到6个应力分量对应的薄膜应力（$S_{ij ,m}$）、弯曲应力($S_{ij,b}$)，用原始的6个应力分量减去薄膜应力和弯曲应力，得到峰值应力的6个应力分量，让后再用这6个分量求出主应力和应力强度等。所以线性化后主应力和应力强度的**薄膜+弯曲+峰值应力往往不等于和应力（Total）**。

## 3. 示例的求解

```matlab
% 四个节点的应力状态，依次为sx、sy、sz、sxy、syz、sxz
sn4=[-0.25037E+08 -0.32145E+08 -0.79458E+07  0.28775E+08  0.0000      0.0000 ];
sn1=[ 0.96907E+08  0.12621E+09  0.80323E+08 -0.12683E+09  0.0000      0.0000];
sn3=[ 0.11512E+08  0.18354E+08  0.19262E+08 -0.12366E+08  0.0000      0.0000];
sn2=[ 0.51497E+08  0.70925E+08  0.48394E+08 -0.62210E+08  0.0000      0.0000];
S=[sn1;sn2;sn3;sn4];
%各点坐标
ln4=[0.792667608977E-001    1.66897695709         0.00000000000];
ln1=[0.774554851510E-001    1.66747760283         0.00000000000];
ln3=[0.786600643580E-001    1.66847985656         0.00000000000];
ln2=[0.780563057757E-001    1.66798007181         0.00000000000];
% 各点距离第一点的距离loc
dis = @(loc1,loc2) sqrt(sum((loc1-loc2).^2)); %求距离函数
loc=[0,dis(ln1,ln2),dis(ln1,ln3),dis(ln1,ln4)];
%六个应力分量依次线性化
[sxm,sxb]=linearize(loc,S(:,1));
[sym,syb]=linearize(loc,S(:,2));
[szm,szb]=linearize(loc,S(:,3));
[sxym,sxyb]=linearize(loc,S(:,4));
[syzm,syzb]=linearize(loc,S(:,5));
[sxzm,sxzb]=linearize(loc,S(:,6));
%分别求出薄膜和弯曲应力的三个主应力
[s1m,s2m,s3m]=s1s2s3([sxm,sym,szm,sxym,syzm,sxzm]);
[s1b,s2b,s3b]=s1s2s3([sxb,syb,szb,sxyb,syzb,sxzb]);

s1b_o=s1b; %外侧的第一主应力的弯曲应力
s1b_i=-s3b;%内测的第一主应力的弯曲应力

function [pm,pb] = linearize( loc,stress )
    % 线性化函数，输出薄膜应力和外侧弯曲应力
    loc=reshape(loc,size(stress));
    t=diff(loc);
    T=sum(t);
    pm=sum(0.5*(stress(1:end-1)+stress(2:end)).*t)/T;

    %计算弯曲应力的积分，这里粗暴的将眼壁厚的应力曲线分成1000段，化为求和计算，精度足够。
    nt=1000;
    Ts=0:T/nt:T;
    Ss=interp1(loc,stress,Ts);
    pb=sum((Ss(1:end-1)+Ss(2:end))/2*T/nt.*(0.5*Ts(1:end-1)+0.5*Ts(2:end)-T/2))*6/T^2;
end

function [s1,s2,s3 ] = s1s2s3( stress )
    % 根据任意点的应力状态求出其3个主应力。
    sx=stress(1);
    sy=stress(2);
    sz=stress(3);
    sxy=stress(4);
    syz=stress(5);
    sxz=stress(6);
    I1=sx+sy+sz;
    I2=sy*sz+sx*sz+sx*sy-syz^2-sxz^2-sxy^2;
    I3=[sx,sxy,sxz;
        sxy,sy,syz;
        sxz,syz,sz];
    I3=det(I3);
    S=sort(roots([1,-I1,I2,-I3]),1,'descend');
    s1=S(1);
    s2=S(2);
    s3=S(3);
end
```

